{"version":3,"sources":["../src/varint.js"],"names":["getVarint","data","offset","Error","createVarint","value","buffer","Buffer","alloc"],"mappings":"AAEA,OAAO,SAASA,SAAT,CAAmBC,IAAnB,EAAiCC,MAAjC,EAAmE;AACxE,MAAID,IAAI,CAACC,MAAD,CAAJ,GAAe,IAAnB,EAAyB;AACvB,WAAO,CAACD,IAAI,CAACC,MAAD,CAAL,EAAe,CAAf,CAAP;AACD;;AACD,MAAID,IAAI,CAACC,MAAD,CAAJ,KAAiB,IAArB,EAA2B;AACzB,WAAO,CAAC,CAACD,IAAI,CAACC,MAAM,GAAG,CAAV,CAAJ,IAAoB,CAArB,IAA0BD,IAAI,CAACC,MAAM,GAAG,CAAV,CAA/B,EAA6C,CAA7C,CAAP;AACD;;AACD,MAAID,IAAI,CAACC,MAAD,CAAJ,KAAiB,IAArB,EAA2B;AACzB,WAAO,CACL,CAACD,IAAI,CAACC,MAAM,GAAG,CAAV,CAAJ,IAAoB,EAArB,KACGD,IAAI,CAACC,MAAM,GAAG,CAAV,CAAJ,IAAoB,EADvB,KAEGD,IAAI,CAACC,MAAM,GAAG,CAAV,CAAJ,IAAoB,CAFvB,IAGED,IAAI,CAACC,MAAM,GAAG,CAAV,CAJD,EAKL,CALK,CAAP;AAOD;;AAED,QAAM,IAAIC,KAAJ,CAAU,6CAAV,CAAN;AACD;AAED,OAAO,SAASC,YAAT,CAAsBC,KAAtB,EAA6C;AAClD,MAAIA,KAAK,GAAG,IAAZ,EAAkB;AAChB,UAAMC,MAAM,GAAGC,MAAM,CAACC,KAAP,CAAa,CAAb,CAAf;AACAF,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAYD,KAAZ;AACA,WAAOC,MAAP;AACD;;AACD,MAAID,KAAK,IAAI,MAAb,EAAqB;AACnB,UAAMC,MAAM,GAAGC,MAAM,CAACC,KAAP,CAAa,CAAb,CAAf;AACAF,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAY,IAAZ;AACAA,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAYD,KAAK,GAAG,IAApB;AACAC,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAaD,KAAK,IAAI,CAAV,GAAe,IAA3B;AACA,WAAOC,MAAP;AACD;;AACD,QAAMA,MAAM,GAAGC,MAAM,CAACC,KAAP,CAAa,CAAb,CAAf;AACAF,EAAAA,MAAM,CAAC,CAAD,CAAN,GAAY,IAAZ;AACAA,EAAAA,MAAM,CAAC,CAAD,CAAN,GAAYD,KAAK,GAAG,IAApB;AACAC,EAAAA,MAAM,CAAC,CAAD,CAAN,GAAaD,KAAK,IAAI,CAAV,GAAe,IAA3B;AACAC,EAAAA,MAAM,CAAC,CAAD,CAAN,GAAaD,KAAK,IAAI,EAAV,GAAgB,IAA5B;AACAC,EAAAA,MAAM,CAAC,CAAD,CAAN,GAAaD,KAAK,IAAI,EAAV,GAAgB,IAA5B;AACA,SAAOC,MAAP;AACD","sourcesContent":["// @flow\n\nexport function getVarint(data: Buffer, offset: number): [number, number] {\n  if (data[offset] < 0xfd) {\n    return [data[offset], 1];\n  }\n  if (data[offset] === 0xfd) {\n    return [(data[offset + 2] << 8) + data[offset + 1], 3];\n  }\n  if (data[offset] === 0xfe) {\n    return [\n      (data[offset + 4] << 24) +\n        (data[offset + 3] << 16) +\n        (data[offset + 2] << 8) +\n        data[offset + 1],\n      5,\n    ];\n  }\n\n  throw new Error(\"getVarint called with unexpected parameters\");\n}\n\nexport function createVarint(value: number): Buffer {\n  if (value < 0xfd) {\n    const buffer = Buffer.alloc(1);\n    buffer[0] = value;\n    return buffer;\n  }\n  if (value <= 0xffff) {\n    const buffer = Buffer.alloc(3);\n    buffer[0] = 0xfd;\n    buffer[1] = value & 0xff;\n    buffer[2] = (value >> 8) & 0xff;\n    return buffer;\n  }\n  const buffer = Buffer.alloc(5);\n  buffer[0] = 0xfe;\n  buffer[1] = value & 0xff;\n  buffer[2] = (value >> 8) & 0xff;\n  buffer[3] = (value >> 16) & 0xff;\n  buffer[4] = (value >> 24) & 0xff;\n  return buffer;\n}\n"],"file":"varint.js"}